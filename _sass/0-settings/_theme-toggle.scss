// Theme Toggle Variables
// This file defines CSS custom properties for light/dark themes

:root {
  // Dark theme (default)
  --bg-primary: #2C2F36;
  --bg-secondary: #232427;
  --bg-tertiary: #1a1c1f;
  --bg-code: #1a1c1f;
  
  --text-primary: #E8E6E3;
  --text-secondary: #9BA3B8;
  --text-heading: #F0EEE9;
  
  --link-color: #9BA3B8;
  --link-hover: #1ABC9C;
  
  --border-color: #3E4250;
  --accent-color: #1ABC9C;
  
  --shadow: rgba(0, 0, 0, 0.25);
  --overlay: rgba(0, 0, 0, 0.8);
  
  // Special colors
  --black: #101010;
  --white: #ffffff;
}

// Light theme
[data-theme="light"] {
  --bg-primary: #FFFFFF;
  --bg-secondary: #FAFBFC;
  --bg-tertiary: #F6F8FA;
  --bg-code: #F6F8FA;
  
  --text-primary: #24292E;
  --text-secondary: #586069;
  --text-heading: #1B1F23;
  
  --link-color: #0366D6;
  --link-hover: #16a085;
  
  --border-color: #E1E4E8;
  --accent-color: #16a085;
  
  --shadow: rgba(27, 31, 35, 0.15);
  --overlay: rgba(0, 0, 0, 0.5);
  
  // Keep these the same
  --black: #101010;
  --white: #ffffff;
}

// Smooth transition between themes
body {
  transition: background-color 0.3s ease, color 0.3s ease;
}

// Apply theme colors
body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
}

// Update existing color usage
.post-content,
.article-box,
.widget,
.sidebar {
  background: var(--bg-secondary);
}

.post-head,
.post-body {
  border-bottom-color: var(--border-color);
}

a {
  color: var(--link-color);
  
  &:hover {
    color: var(--link-hover);
  }
}

h1, h2, h3, h4, h5, h6 {
  color: var(--text-heading);
}

// Code blocks
pre {
  background: var(--bg-code);
  border-left-color: var(--accent-color);
}

code {
  background: var(--bg-code);
  color: var(--text-primary);
}

// Blockquotes
blockquote {
  border-left-color: var(--accent-color);
  background: rgba(26, 188, 156, 0.05);
}

[data-theme="light"] blockquote {
  background: rgba(22, 160, 133, 0.08);
}

// Borders
hr,
.post-head,
.post-body,
.page-head,
.page-body {
  border-color: var(--border-color);
}

// Shadows
.post-image,
.article-image,
.page-image,
.widget {
  box-shadow: 0 9px 18px 0 var(--shadow);
}

// Header - theme aware
.header {
  background: var(--bg-secondary);
  
  .logo-text {
    color: var(--text-primary);
    
    &:hover {
      color: var(--accent-color);
    }
  }
}

// Footer - theme aware
.footer {
  background: var(--bg-secondary);
  
  .logo-text {
    color: var(--text-primary);
    
    &:hover {
      color: var(--accent-color);
    }
  }
  
  .copyright p {
    color: var(--text-secondary);
    
    a {
      color: var(--link-color);
      
      &:hover {
        color: var(--accent-color);
      }
    }
  }
  
  .footer-social a {
    color: var(--text-secondary);
    
    &:hover {
      color: var(--accent-color);
    }
  }
  
  .top {
    background-color: var(--bg-tertiary);
    border-color: var(--border-color);
    color: var(--text-primary);
    
    &:hover {
      opacity: 1;
    }
  }
}

// Article cards
.article-content {
  .article-title a {
    color: var(--text-primary);
  }
  
  .article-excerpt {
    color: var(--text-secondary);
  }
  
  .article-date {
    color: var(--text-secondary);
  }
}

// Tags
.tag {
  color: var(--text-secondary);
  border-color: var(--border-color);
  
  &:hover {
    background: var(--accent-color);
    color: var(--white);
  }
}

// Post info
.post-info-author {
  .info-author-name {
    color: var(--text-primary);
    
    &:after {
      background: var(--border-color);
    }
  }
}

// Reading time
.reading-time {
  color: var(--text-secondary);
}

// Navigation
.nav-menu {
  background: var(--bg-primary);
  
  .menu-link {
    color: var(--text-primary);
    
    &:hover {
      color: var(--accent-color);
    }
  }
}

// Search
.search {
  background: var(--bg-primary);
}

.search-text {
  background: var(--bg-tertiary);
  color: var(--text-primary);
  
  &::placeholder {
    color: var(--text-secondary);
  }
}

// Buttons
.button {
  border-color: var(--border-color);
  color: var(--text-primary);
  
  &:hover {
    background: var(--accent-color);
    border-color: var(--accent-color);
    color: var(--white);
  }
}

// Tables (light theme specific)
[data-theme="light"] {
  table tr {
    background-color: #f8f9fa;
    
    &:nth-child(even) {
      background-color: var(--white);
    }
    
    &:hover {
      background-color: #e9ecef;
    }
  }
}


// Sidebar widgets
.widget {
  background: var(--bg-secondary);
  
  .widget-title {
    color: var(--text-heading);
    
    &:after {
      background: var(--border-color);
    }
  }
}

// Recent posts in sidebar
.recent-posts {
  .recent-image {
    background-color: var(--bg-tertiary);
  }
  
  .recent-title a {
    color: var(--text-primary);
    
    &:hover {
      color: var(--accent-color);
    }
  }
  
  .recent-date {
    color: var(--text-secondary);
  }
}

// Social profiles
.social-profiles-link {
  border-color: var(--border-color);
  color: var(--text-secondary);
  
  &:hover {
    border-color: var(--accent-color);
    color: var(--accent-color);
  }
}

// Newsletter widget
.newsletter-subtitle {
  color: var(--text-heading);
}

.newsletter-text {
  color: var(--text-secondary);
}

.newsletter-email {
  background: var(--bg-primary);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
  
  &::placeholder {
    color: var(--text-secondary);
  }
}

.newsletter-button {
  background: var(--accent-color);
  color: var(--white);
  
  &:hover {
    background: var(--link-hover);
  }
}

// Tag cloud
.tag-list .tag {
  background: var(--bg-tertiary);
  color: var(--text-primary);
  
  &:hover {
    background: var(--accent-color);
    color: var(--white);
  }
}

// Pagination
.pagination {
  .older-link,
  .previous-link,
  .newer-link {
    background: var(--bg-secondary);
    color: var(--text-primary);
    
    &:hover {
      background: var(--bg-tertiary);
    }
  }
}

// Article first (featured post)
.article-first {
  background: var(--bg-tertiary);
  
  .article-content-first {
    color: var(--text-primary);
    
    .article-title a {
      color: var(--text-primary);
      
      &:hover {
        color: var(--accent-color);
      }
    }
    
    .article-excerpt {
      color: var(--text-secondary);
    }
    
    .article-date .date {
      color: var(--text-secondary);
    }
    
    .button {
      border-color: var(--text-primary);
      color: var(--text-primary);
      
      &:hover {
        border-color: var(--accent-color);
        background: var(--accent-color);
        color: var(--white);
      }
    }
  }
}

// Article boxes
.article-box {
  border-bottom-color: var(--border-color);
}

// Post image boxes
.post-image-box,
.page-image-box {
  background: var(--bg-tertiary);
}

// Post/Page content
.post-content,
.page-content {
  background: var(--bg-secondary);
}

// Post title
.post-title,
.page-title {
  color: var(--text-heading);
}

// Post date
.post-date span {
  color: var(--text-secondary);
}

// Post tags
.post-tag .tag {
  border-color: var(--accent-color);
  color: var(--accent-color);
  
  &:hover {
    background: var(--accent-color);
    color: var(--white);
  }
}

// Post share
.post-share .share-item a {
  color: var(--text-secondary);
  
  &:hover {
    color: var(--accent-color);
  }
}

// Post navigation
.prev,
.next {
  background: var(--bg-tertiary);
  
  &:hover {
    background: var(--bg-primary);
    
    .post-nav-title {
      color: var(--accent-color);
    }
  }
  
  .post-nav-arrow {
    color: var(--text-primary);
  }
  
  .post-nav-title {
    color: var(--text-primary);
  }
}

// Comments section
.comments {
  background: var(--bg-secondary);
}

// Search overlay
.search {
  background: var(--bg-primary);
}

.search-text {
  background: var(--bg-tertiary);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
  
  &::placeholder {
    color: var(--text-secondary);
  }
}

.search-results-list {
  .search-link {
    color: var(--text-primary);
    border-bottom-color: var(--border-color);
    
    &:hover {
      color: var(--accent-color);
    }
  }
  
  .search-no-item {
    color: var(--text-secondary);
  }
}

// Menu overlay
.nav-menu {
  background: var(--bg-primary);
}

.menu-link {
  color: var(--text-primary);
  
  &:before {
    background: var(--accent-color);
  }
  
  &:hover {
    color: var(--accent-color);
  }
}

.menu-close,
.search-close-button {
  border-color: var(--text-secondary);
  color: var(--text-secondary);
  
  &:hover {
    border-color: var(--text-primary);
    color: var(--text-primary);
  }
}

// Navigation buttons
.nav-buttons i.ion {
  color: var(--text-primary);
  
  &:hover {
    color: var(--accent-color);
  }
}

// Tags page
.tags-list {
  .tags-link {
    background: var(--bg-tertiary);
    color: var(--text-primary);
    
    &:hover {
      background: var(--accent-color);
      color: var(--white);
    }
  }
}

.tags-title {
  color: var(--text-heading);
}

// Loader
.loader {
  background: var(--bg-primary);
  color: var(--text-primary);
  
  span {
    color: var(--text-primary);
  }
  
  &:before {
    background: var(--accent-color);
  }
}

// Selection color
*::selection {
  background-color: var(--accent-color);
  color: var(--white);
}

// Input fields
input,
textarea {
  background: var(--bg-primary);
  color: var(--text-primary);
  border-color: var(--border-color);
  
  &::placeholder {
    color: var(--text-secondary);
  }
  
  &:focus {
    border-color: var(--accent-color);
  }
}

// Light theme specific adjustments
[data-theme="light"] {
  // Ensure images don't look washed out
  .post-image,
  .article-image,
  .page-image,
  .recent-image {
    opacity: 1;
  }
  
  // Adjust overlay for light theme
  .article-image .image-overlay {
    background-color: rgba(0, 0, 0, 0.7);
  }
  
  .article-image .image-overlay-text {
    color: var(--white);
  }
  
  // Better code block contrast in light mode
  pre {
    background: #f6f8fa;
    border-left-color: var(--accent-color);
    color: #24292e;
  }
  
  code {
    background: #f6f8fa;
    color: #24292e;
  }
  
  // Syntax highlighting adjustments for light mode
  .highlight {
    background: #f6f8fa;
  }
  
  // Post content in light mode
  .post-content,
  .page-content {
    background: var(--white);
  }
  
  .post-body,
  .page-body {
    color: var(--text-primary);
    
    h1, h2, h3, h4, h5, h6 {
      color: var(--text-heading);
    }
    
    p, li {
      color: var(--text-primary);
    }
    
    a {
      color: var(--link-color);
      
      &:hover {
        color: var(--link-hover);
      }
    }
  }
  
  // Article cards in light mode
  .article-content {
    .article-title a {
      color: var(--text-heading);
      
      &:hover {
        color: var(--accent-color);
      }
    }
    
    .article-excerpt {
      color: var(--text-secondary);
    }
  }
  
  // Featured article in light mode
  .article-first .article-content-first {
    color: var(--text-primary);
    
    .article-title a {
      color: var(--text-heading);
    }
  }
  
  // Sidebar in light mode - keep dark backgrounds with light text
  .widget {
    background: #2C2F36;
    
    .widget-title {
      color: #E8E6E3;
      
      &:after {
        background: #3E4250;
      }
    }
  }
  
  .recent-posts {
    .recent-title a {
      color: #E8E6E3 !important;
      
      &:hover {
        color: #1ABC9C !important;
      }
    }
    
    .recent-date {
      color: #9BA3B8 !important;
    }
  }
  
  .social-profiles-link {
    color: #9BA3B8;
    border-color: #3E4250;
    
    &:hover {
      color: #1ABC9C;
      border-color: #1ABC9C;
    }
  }
  
  .newsletter-subtitle {
    color: #E8E6E3 !important;
  }
  
  .newsletter-text {
    color: #9BA3B8 !important;
  }
  
  .newsletter-email {
    background: #1a1c1f;
    color: #E8E6E3;
    border-color: #3E4250;
    
    &::placeholder {
      color: #9BA3B8;
    }
  }
  
  .email-icon {
    color: rgba(155, 163, 184, 0.6);
  }
  
  .tag-list .tag {
    background: #232427;
    color: #E8E6E3;
    
    &:hover {
      background: #1ABC9C;
      color: #ffffff;
    }
  }
  
  .newsletter-button {
    background: #F6F8FA !important;
    color: #24292E !important;
    border: 1px solid #E1E4E8;
    
    &:hover {
      background: #1ABC9C !important;
      color: #ffffff !important;
      border-color: #1ABC9C;
    }
  }
  
  // Post/Page header - keep light text on dark background
  .post-content,
  .page-content {
    .post-head,
    .page-head {
      .post-title,
      .page-title {
        color: #E8E6E3 !important;
      }
      
      .post-tag .tag {
        color: #1ABC9C;
        border-color: #1ABC9C;
        
        &:hover {
          background: #1ABC9C;
          color: #ffffff;
        }
      }
      
      .post-info-author {
        .info-author-name {
          color: #E8E6E3;
        }
        
        span {
          color: #9BA3B8;
        }
      }
      
      .post-date span {
        color: #9BA3B8;
      }
    }
  }
}
